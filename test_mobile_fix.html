<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç§»åŠ¨ç«¯é€‚é…æµ‹è¯• - Shaker</title>
    <link rel="stylesheet" href="frontend/css/styles-inline.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        
        .test-header {
            background: #228b22;
            color: white;
            padding: 1rem;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .debug-info {
            position: fixed;
            top: 60px;
            right: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 0.5rem;
            border-radius: 8px;
            font-size: 0.8rem;
            z-index: 200;
        }
        
        .test-section {
            padding: 2rem 0;
            border-bottom: 1px solid #ddd;
        }
        
        /* ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„CSSå˜é‡ */
        :root {
            --bg-warm: rgba(245, 245, 220, 0.9);
            --border-natural: rgba(143, 188, 143, 0.3);
            --forest-green: #228b22;
            --shadow-soft: 0 4px 20px rgba(34, 139, 34, 0.1);
            --shadow-warm: 0 8px 32px rgba(139, 69, 19, 0.1);
        }
    </style>
</head>
<body>
    <div class="test-header">
        <h1>ğŸ“± ç§»åŠ¨ç«¯é€‚é…æµ‹è¯•</h1>
        <p>æµ‹è¯•åœºæ™¯å¡ç‰‡åœ¨æ‰‹æœºç«¯çš„æ˜¾ç¤ºæ•ˆæœ</p>
    </div>
    
    <div class="debug-info" id="debugInfo">
        <div>å±å¹•å®½åº¦: <span id="screenWidth"></span>px</div>
        <div>è§†å£å®½åº¦: <span id="viewportWidth"></span>px</div>
        <div>è®¾å¤‡åƒç´ æ¯”: <span id="devicePixelRatio"></span></div>
    </div>

    <!-- æµ‹è¯•åœºæ™¯é€‰æ‹©åŒºåŸŸ -->
    <section class="choice-section test-section" id="sceneSection">
        <div class="container">
            <h2 class="section-title">âœ¨ é€‰æ‹©ä½ çš„æ—¶å…‰</h2>
            <p class="section-subtitle">æ¯ä¸€ä¸ªæ—¶åˆ»ï¼Œéƒ½å€¼å¾—ç”¨ä¸€æ¯ç‰¹åˆ«çš„é…’æ¥çºªå¿µ</p>
            <div class="scene-grid" id="sceneOptions">
                <div class="scene-card" data-value="èšä¼šæ´¾å¯¹">
                    <span class="scene-icon">ğŸ‰</span>
                    <h4 class="scene-title">èšä¼šæ´¾å¯¹</h4>
                    <p class="scene-desc">æœ‹å‹èšä¼šã€ç”Ÿæ—¥åº†ç¥ã€ç¤¾äº¤æ´»åŠ¨</p>
                </div>
                <div class="scene-card" data-value="æµªæ¼«çº¦ä¼š">
                    <span class="scene-icon">ğŸ’•</span>
                    <h4 class="scene-title">æµªæ¼«çº¦ä¼š</h4>
                    <p class="scene-desc">æƒ…ä¾£çº¦ä¼šã€çºªå¿µæ—¥ã€æµªæ¼«æ™šé¤</p>
                </div>
                <div class="scene-card" data-value="ç‹¬å¤„æ”¾æ¾">
                    <span class="scene-icon">ğŸ§˜</span>
                    <h4 class="scene-title">ç‹¬å¤„æ”¾æ¾</h4>
                    <p class="scene-desc">ä¸‹ç­åã€é˜…è¯»æ—¶å…‰ã€æ”¾æ¾å¿ƒæƒ…</p>
                </div>
                <div class="scene-card" data-value="å•†åŠ¡ä¼šé¢">
                    <span class="scene-icon">ğŸ¤</span>
                    <h4 class="scene-title">å•†åŠ¡ä¼šé¢</h4>
                    <p class="scene-desc">å•†åŠ¡èšé¤ã€å·¥ä½œåº†ç¥ã€å®¢æˆ·æ‹›å¾…</p>
                </div>
                <div class="scene-card" data-value="å¤œæ™šæ—¶å…‰">
                    <span class="scene-icon">ğŸŒ™</span>
                    <h4 class="scene-title">å¤œæ™šæ—¶å…‰</h4>
                    <p class="scene-desc">å¤œåº—èšä¼šã€æ·±å¤œèŠå¤©ã€ä¸çœ å¤œ</p>
                </div>
                <div class="scene-card" data-value="åˆåæƒ¬æ„">
                    <span class="scene-icon">â˜€ï¸</span>
                    <h4 class="scene-title">åˆåæƒ¬æ„</h4>
                    <p class="scene-desc">ä¸‹åˆèŒ¶æ—¶å…‰ã€æ‚ é—²åˆåã€äº«å—ç”Ÿæ´»</p>
                </div>
            </div>
        </div>
    </section>

    <!-- æµ‹è¯•å¿ƒæƒ…é€‰æ‹©åŒºåŸŸ -->
    <section class="choice-section test-section" id="moodSection">
        <div class="container">
            <h2 class="section-title">ğŸ’« æè¿°ä½ çš„å¿ƒæƒ…</h2>
            <p class="section-subtitle">é€‰æ‹©1-3ä¸ªæœ€ç¬¦åˆä½ å½“å‰çŠ¶æ€çš„å¿ƒæƒ…</p>
            <div class="mood-grid" id="moodOptions">
                <div class="mood-card" data-value="æ˜¥æ—¥æ„‰æ‚¦">
                    <span class="mood-icon">ğŸŒ»</span>
                    <h4 class="mood-title">æ˜¥æ—¥æ„‰æ‚¦</h4>
                    <p class="mood-desc">å¿ƒæƒ…å¦‚æ˜¥èŠ±èˆ¬ç»½æ”¾ï¼Œå……æ»¡æ´»åŠ›</p>
                </div>
                <div class="mood-card" data-value="é›¨åå¿§éƒ">
                    <span class="mood-icon">ğŸŒ§ï¸</span>
                    <h4 class="mood-title">é›¨åå¿§éƒ</h4>
                    <p class="mood-desc">å¦‚é›¨åæ£®æ—èˆ¬æ²‰é™ï¼Œéœ€è¦æŠšæ…°</p>
                </div>
                <div class="mood-card" data-value="å¤æ—¥æ¿€æƒ…">
                    <span class="mood-icon">â˜€ï¸</span>
                    <h4 class="mood-title">å¤æ—¥æ¿€æƒ…</h4>
                    <p class="mood-desc">å¦‚ç«ç„°èˆ¬çƒ­çƒˆï¼Œå……æ»¡æœŸå¾…</p>
                </div>
                <div class="mood-card" data-value="ç§‹å¶å®é™">
                    <span class="mood-icon">ğŸ‚</span>
                    <h4 class="mood-title">ç§‹å¶å®é™</h4>
                    <p class="mood-desc">å¦‚ç§‹æ—¥èˆ¬å¹³å’Œï¼Œå¯»æ±‚å†…å¿ƒå¹³è¡¡</p>
                </div>
                <div class="mood-card" data-value="å±±å³°è‡ªä¿¡">
                    <span class="mood-icon">â›°ï¸</span>
                    <h4 class="mood-title">å±±å³°è‡ªä¿¡</h4>
                    <p class="mood-desc">å¦‚é«˜å±±èˆ¬åšå®šï¼Œå……æ»¡åŠ›é‡</p>
                </div>
                <div class="mood-card" data-value="æ·±æ—æ²‰æ€">
                    <span class="mood-icon">ğŸŒ³</span>
                    <h4 class="mood-title">æ·±æ—æ²‰æ€</h4>
                    <p class="mood-desc">å¦‚å¤æ ‘èˆ¬æ·±é‚ƒï¼Œä¸“æ³¨æ€è€ƒ</p>
                </div>
            </div>
        </div>
    </section>

    <div class="test-section" style="background: #f0f8f0; text-align: center; padding: 3rem 1rem;">
        <h2>ğŸ“Š æµ‹è¯•ç»“æœ</h2>
        <div id="testResults" style="margin-top: 1rem; padding: 1rem; background: white; border-radius: 8px; text-align: left;">
            <h3>å¸ƒå±€æ£€æŸ¥ç»“æœï¼š</h3>
            <div id="layoutResults"></div>
        </div>
        
        <div style="margin-top: 2rem;">
            <button onclick="runLayoutTest()" style="background: #228b22; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer;">
                ğŸ§ª è¿è¡Œå¸ƒå±€æµ‹è¯•
            </button>
            <button onclick="toggleSelection()" style="background: #ff6b6b; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; margin-left: 1rem;">
                ğŸ¯ æµ‹è¯•é€‰ä¸­æ•ˆæœ
            </button>
        </div>
    </div>

    <script>
        // æ›´æ–°è°ƒè¯•ä¿¡æ¯
        function updateDebugInfo() {
            document.getElementById('screenWidth').textContent = screen.width;
            document.getElementById('viewportWidth').textContent = window.innerWidth;
            document.getElementById('devicePixelRatio').textContent = window.devicePixelRatio;
        }

        // è¿è¡Œå¸ƒå±€æµ‹è¯•
        function runLayoutTest() {
            const results = [];
            
            // æµ‹è¯•åœºæ™¯ç½‘æ ¼
            const sceneGrid = document.querySelector('.scene-grid');
            const sceneCards = document.querySelectorAll('.scene-card');
            const sceneGridStyle = window.getComputedStyle(sceneGrid);
            
            results.push(`<h4>ğŸ­ åœºæ™¯ç½‘æ ¼æµ‹è¯•ï¼š</h4>`);
            results.push(`ç½‘æ ¼åˆ—æ•°: ${sceneGridStyle.gridTemplateColumns}`);
            results.push(`ç½‘æ ¼é—´è·: ${sceneGridStyle.gap}`);
            results.push(`å¡ç‰‡æ•°é‡: ${sceneCards.length}`);
            
            // æ£€æŸ¥å¡ç‰‡å°ºå¯¸
            if (sceneCards.length > 0) {
                const firstCard = sceneCards[0];
                const cardRect = firstCard.getBoundingClientRect();
                results.push(`å•ä¸ªå¡ç‰‡å®½åº¦: ${cardRect.width.toFixed(1)}px`);
                results.push(`å•ä¸ªå¡ç‰‡é«˜åº¦: ${cardRect.height.toFixed(1)}px`);
            }
            
            // æµ‹è¯•å¿ƒæƒ…ç½‘æ ¼
            const moodGrid = document.querySelector('.mood-grid');
            const moodCards = document.querySelectorAll('.mood-card');
            const moodGridStyle = window.getComputedStyle(moodGrid);
            
            results.push(`<h4>ğŸ’« å¿ƒæƒ…ç½‘æ ¼æµ‹è¯•ï¼š</h4>`);
            results.push(`ç½‘æ ¼åˆ—æ•°: ${moodGridStyle.gridTemplateColumns}`);
            results.push(`ç½‘æ ¼é—´è·: ${moodGridStyle.gap}`);
            results.push(`å¡ç‰‡æ•°é‡: ${moodCards.length}`);
            
            // æ£€æŸ¥å®¹å™¨
            const container = document.querySelector('.container');
            const containerStyle = window.getComputedStyle(container);
            results.push(`<h4>ğŸ“¦ å®¹å™¨æµ‹è¯•ï¼š</h4>`);
            results.push(`å®¹å™¨padding: ${containerStyle.padding}`);
            results.push(`å®¹å™¨æœ€å¤§å®½åº¦: ${containerStyle.maxWidth}`);
            
            // æ£€æŸ¥è§†å£
            results.push(`<h4>ğŸ“± è§†å£ä¿¡æ¯ï¼š</h4>`);
            results.push(`è§†å£å®½åº¦: ${window.innerWidth}px`);
            results.push(`æ˜¯å¦ç§»åŠ¨ç«¯: ${window.innerWidth <= 768 ? 'æ˜¯' : 'å¦'}`);
            
            document.getElementById('layoutResults').innerHTML = results.join('<br>');
        }

        // æµ‹è¯•é€‰ä¸­æ•ˆæœ
        function toggleSelection() {
            const sceneCards = document.querySelectorAll('.scene-card');
            const moodCards = document.querySelectorAll('.mood-card');
            
            // éšæœºé€‰ä¸­ä¸€äº›å¡ç‰‡
            sceneCards.forEach((card, index) => {
                if (index < 2) {
                    card.classList.toggle('selected');
                }
            });
            
            moodCards.forEach((card, index) => {
                if (index < 3) {
                    card.classList.toggle('selected');
                }
            });
        }

        // ç›‘å¬çª—å£å¤§å°å˜åŒ–
        window.addEventListener('resize', () => {
            updateDebugInfo();
            runLayoutTest();
        });

        // åˆå§‹åŒ–
        updateDebugInfo();
        setTimeout(runLayoutTest, 500); // ç­‰å¾…CSSåŠ è½½å®Œæˆ

        // æ·»åŠ å¡ç‰‡ç‚¹å‡»äº‹ä»¶
        document.addEventListener('click', (e) => {
            if (e.target.closest('.scene-card') || e.target.closest('.mood-card')) {
                const card = e.target.closest('.scene-card, .mood-card');
                card.classList.toggle('selected');
            }
        });
    </script>
</body>
</html>
