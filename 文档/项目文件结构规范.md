# Shakeræ™ºèƒ½é¸¡å°¾é…’æ¨èç³»ç»Ÿé¡¹ç›®æ–‡ä»¶ç»“æ„è§„èŒƒ

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯
| é¡¹ç›® | å†…å®¹ |
|------|------|
| **äº§å“åç§°** | Shaker |
| **ç‰ˆæœ¬å·** | MVPç‰ˆæœ¬1.0.0 |
| **æ–‡æ¡£ç‰ˆæœ¬** | v1.0 |
| **åˆ›å»ºæ—¥æœŸ** | 2024-08-28 |
| **é¡¹ç›®è´Ÿè´£äºº** | éƒ­é” |
| **æ–‡æ¡£çŠ¶æ€** | âœ… å·²å®Œæˆ | 

---

## ğŸ¯ æ–‡ä»¶ç»“æ„æ€»è§ˆ

```
shaker/
â”œâ”€â”€ ğŸ“ frontend/                    # å‰ç«¯åº”ç”¨
â”œâ”€â”€ ğŸ“ backend/                     # åç«¯APIæœåŠ¡
â”œâ”€â”€ ğŸ“ docs/                        # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ ğŸ“ scripts/                     # è„šæœ¬å·¥å…·
â”œâ”€â”€ ğŸ“ .github/                     # GitHubé…ç½®
â”œâ”€â”€ ğŸ“„ README.md                    # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ ğŸ“„ .gitignore                   # Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ LICENSE                      # å¼€æºåè®®
â””â”€â”€ ğŸ“„ package.json                 # æ ¹é¡¹ç›®é…ç½®
```

---

## ğŸ¨ å‰ç«¯æ–‡ä»¶ç»“æ„

### å®Œæ•´å‰ç«¯ç›®å½•æ ‘
```
frontend/
â”œâ”€â”€ ğŸ“ public/                      # é™æ€èµ„æº
â”‚   â”œâ”€â”€ ğŸ–¼ï¸ favicon.ico              # ç½‘ç«™å›¾æ ‡
â”‚   â”œâ”€â”€ ğŸ–¼ï¸ logo.svg                 # å“ç‰ŒLogo
â”‚   â”œâ”€â”€ ğŸ–¼ï¸ images/                  # å›¾ç‰‡èµ„æº
â”‚   â”‚   â”œâ”€â”€ cocktail-icons/         # é¸¡å°¾é…’å›¾æ ‡
â”‚   â”‚   â”œâ”€â”€ ingredient-icons/       # ææ–™å›¾æ ‡
â”‚   â”‚   â””â”€â”€ scene-backgrounds/      # åœºæ™¯èƒŒæ™¯
â”‚   â””â”€â”€ ğŸ“„ index.html               # HTMLæ¨¡æ¿
â”œâ”€â”€ ğŸ“ src/                         # æºä»£ç 
â”‚   â”œâ”€â”€ ğŸ“ components/              # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“ ui/                  # åŸºç¡€UIç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Button.tsx       # æŒ‰é’®ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Card.tsx         # å¡ç‰‡ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Input.tsx        # è¾“å…¥æ¡†ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Modal.tsx        # æ¨¡æ€æ¡†ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Slider.tsx       # æ»‘å—ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Checkbox.tsx     # å¤é€‰æ¡†ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Loading.tsx      # åŠ è½½ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts         # ç»„ä»¶å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ ğŸ“ forms/               # è¡¨å•ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ SceneSelector.tsx          # åœºæ™¯é€‰æ‹©å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ MoodPicker.tsx             # å¿ƒæƒ…é€‰æ‹©å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ IngredientSelector.tsx     # ææ–™é€‰æ‹©å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ PreferenceSlider.tsx       # åå¥½æ»‘å—
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ SpecialRequirements.tsx    # ç‰¹æ®Šè¦æ±‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ layout/              # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Header.tsx       # é¡µå¤´ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Footer.tsx       # é¡µè„šç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Sidebar.tsx      # ä¾§è¾¹æ ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ Container.tsx    # å®¹å™¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ğŸ“ cocktail/            # é¸¡å°¾é…’ç›¸å…³ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ ğŸ“„ CocktailCard.tsx           # é¸¡å°¾é…’å¡ç‰‡
â”‚   â”‚       â”œâ”€â”€ ğŸ“„ CocktailDetail.tsx         # é¸¡å°¾é…’è¯¦æƒ…
â”‚   â”‚       â”œâ”€â”€ ğŸ“„ RecipeList.tsx             # é…æ–¹åˆ—è¡¨
â”‚   â”‚       â””â”€â”€ ğŸ“„ InstructionSteps.tsx       # åˆ¶ä½œæ­¥éª¤
â”‚   â”œâ”€â”€ ğŸ“ pages/                   # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ HomePage.tsx         # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ RecommendPage.tsx    # æ¨èé¡µé¢
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ResultPage.tsx       # ç»“æœé¡µé¢
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ DetailPage.tsx       # è¯¦æƒ…é¡µé¢
â”‚   â”‚   â””â”€â”€ ğŸ“„ ErrorPage.tsx        # é”™è¯¯é¡µé¢
â”‚   â”œâ”€â”€ ğŸ“ stores/                  # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ useAppStore.ts       # åº”ç”¨çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ useUserInputStore.ts # ç”¨æˆ·è¾“å…¥çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ useRecommendStore.ts # æ¨èçŠ¶æ€
â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts             # çŠ¶æ€å¯¼å‡º
â”‚   â”œâ”€â”€ ğŸ“ services/                # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ api.ts               # APIå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ recommendService.ts  # æ¨èæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ingredientService.ts # ææ–™æœåŠ¡
â”‚   â”‚   â””â”€â”€ ğŸ“„ types.ts             # APIç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ ğŸ“ hooks/                   # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ useRecommendation.ts # æ¨èHook
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ useLocalStorage.ts   # æœ¬åœ°å­˜å‚¨Hook
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ useDebounce.ts       # é˜²æŠ–Hook
â”‚   â”‚   â””â”€â”€ ğŸ“„ useAsync.ts          # å¼‚æ­¥Hook
â”‚   â”œâ”€â”€ ğŸ“ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ helpers.ts           # é€šç”¨å¸®åŠ©å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ validation.ts        # éªŒè¯å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ formatting.ts        # æ ¼å¼åŒ–å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ constants.ts         # å¸¸é‡å®šä¹‰
â”‚   â”‚   â””â”€â”€ ğŸ“„ storage.ts           # å­˜å‚¨å·¥å…·
â”‚   â”œâ”€â”€ ğŸ“ types/                   # TypeScriptç±»å‹
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ index.ts             # é€šç”¨ç±»å‹
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ cocktail.ts          # é¸¡å°¾é…’ç±»å‹
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ user.ts              # ç”¨æˆ·ç±»å‹
â”‚   â”‚   â””â”€â”€ ğŸ“„ api.ts               # APIç±»å‹
â”‚   â”œâ”€â”€ ğŸ“ assets/                  # èµ„æºæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“ styles/              # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ globals.css      # å…¨å±€æ ·å¼
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ components.css   # ç»„ä»¶æ ·å¼
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ utilities.css    # å·¥å…·æ ·å¼
â”‚   â”‚   â””â”€â”€ ğŸ“ fonts/               # å­—ä½“æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“ __tests__/               # æµ‹è¯•æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/          # ç»„ä»¶æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ ğŸ“ pages/               # é¡µé¢æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ ğŸ“ utils/               # å·¥å…·æµ‹è¯•
â”‚   â”‚   â””â”€â”€ ğŸ“„ setup.ts             # æµ‹è¯•é…ç½®
â”‚   â”œâ”€â”€ ğŸ“„ App.tsx                  # åº”ç”¨æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“„ main.tsx                 # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ ğŸ“„ vite-env.d.ts            # Viteç±»å‹å£°æ˜
â”œâ”€â”€ ğŸ“„ package.json                 # é¡¹ç›®é…ç½®
â”œâ”€â”€ ğŸ“„ vite.config.ts               # Viteé…ç½®
â”œâ”€â”€ ğŸ“„ tailwind.config.js           # Tailwindé…ç½®
â”œâ”€â”€ ğŸ“„ postcss.config.js            # PostCSSé…ç½®
â”œâ”€â”€ ğŸ“„ tsconfig.json                # TypeScripté…ç½®
â”œâ”€â”€ ğŸ“„ tsconfig.node.json           # Node TypeScripté…ç½®
â”œâ”€â”€ ğŸ“„ .eslintrc.json               # ESLinté…ç½®
â”œâ”€â”€ ğŸ“„ .prettierrc                  # Prettieré…ç½®
â”œâ”€â”€ ğŸ“„ .env.example                 # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â””â”€â”€ ğŸ“„ README.md                    # å‰ç«¯è¯´æ˜æ–‡æ¡£
```

### å‰ç«¯å‘½åè§„èŒƒ

#### æ–‡ä»¶å‘½åè§„èŒƒ
```typescript
// ç»„ä»¶æ–‡ä»¶ - PascalCase
Button.tsx
CocktailCard.tsx
IngredientSelector.tsx

// Hookæ–‡ä»¶ - camelCase + useå‰ç¼€
useRecommendation.ts
useLocalStorage.ts
useDebounce.ts

// å·¥å…·æ–‡ä»¶ - camelCase
helpers.ts
validation.ts
constants.ts

// ç±»å‹æ–‡ä»¶ - camelCase
index.ts
cocktail.ts
user.ts

// æ ·å¼æ–‡ä»¶ - kebab-case
globals.css
components.css
utilities.css
```

#### ç»„ä»¶å†…éƒ¨ç»“æ„è§„èŒƒ
```typescript
// ç»„ä»¶æ–‡ä»¶ç»“æ„ç¤ºä¾‹
import React from 'react';
import { type ComponentProps } from '@/types';
import { cn } from '@/utils/helpers';

// 1. ç±»å‹å®šä¹‰
interface ButtonProps extends ComponentProps {
  variant: 'primary' | 'secondary';
  size: 'sm' | 'md' | 'lg';
  loading?: boolean;
}

// 2. ç»„ä»¶å®ç°
export const Button: React.FC<ButtonProps> = ({
  variant = 'primary',
  size = 'md',
  loading = false,
  className,
  children,
  ...props
}) => {
  // Hookè°ƒç”¨
  const [isPressed, setIsPressed] = useState(false);
  
  // è®¡ç®—å±æ€§
  const buttonClasses = cn(
    'base-button-classes',
    {
      'primary-classes': variant === 'primary',
      'secondary-classes': variant === 'secondary',
      'sm-classes': size === 'sm',
      'md-classes': size === 'md',
      'lg-classes': size === 'lg',
      'loading-classes': loading,
    },
    className
  );
  
  // äº‹ä»¶å¤„ç†
  const handleClick = () => {
    setIsPressed(true);
    // å¤„ç†é€»è¾‘
  };
  
  // æ¸²æŸ“
  return (
    <button
      className={buttonClasses}
      onClick={handleClick}
      disabled={loading}
      {...props}
    >
      {loading ? <LoadingSpinner /> : children}
    </button>
  );
};

// 3. é»˜è®¤å¯¼å‡º
export default Button;
```

---

## ğŸ”§ åç«¯æ–‡ä»¶ç»“æ„

### å®Œæ•´åç«¯ç›®å½•æ ‘
```
backend/
â”œâ”€â”€ ğŸ“ src/                         # æºä»£ç 
â”‚   â”œâ”€â”€ ğŸ“ controllers/             # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ healthController.ts          # å¥åº·æ£€æŸ¥æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ recommendController.ts       # æ¨èæ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ingredientController.ts      # ææ–™æ§åˆ¶å™¨
â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts                     # æ§åˆ¶å™¨å¯¼å‡º
â”‚   â”œâ”€â”€ ğŸ“ services/                # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ cozeService.ts               # Coze AIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ recommendService.ts          # æ¨èä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ promptBuilder.ts             # Promptæ„å»ºå™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ responseParser.ts            # å“åº”è§£æå™¨
â”‚   â”‚   â””â”€â”€ ğŸ“„ cacheService.ts              # ç¼“å­˜æœåŠ¡
â”‚   â”œâ”€â”€ ğŸ“ middleware/              # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ cors.ts                      # CORSé…ç½®
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ helmet.ts                    # å®‰å…¨ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ logger.ts                    # æ—¥å¿—ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ errorHandler.ts              # é”™è¯¯å¤„ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ validation.ts                # è¯·æ±‚éªŒè¯
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ rateLimit.ts                 # é¢‘ç‡é™åˆ¶
â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts                     # ä¸­é—´ä»¶å¯¼å‡º
â”‚   â”œâ”€â”€ ğŸ“ routes/                  # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ health.ts                    # å¥åº·æ£€æŸ¥è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ recommend.ts                 # æ¨èè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ingredient.ts                # ææ–™è·¯ç”±
â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts                     # è·¯ç”±æ±‡æ€»
â”‚   â”œâ”€â”€ ğŸ“ types/                   # TypeScriptç±»å‹
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ index.ts                     # é€šç”¨ç±»å‹
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ request.ts                   # è¯·æ±‚ç±»å‹
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ response.ts                  # å“åº”ç±»å‹
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ cocktail.ts                  # é¸¡å°¾é…’ç±»å‹
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ coze.ts                      # Coze APIç±»å‹
â”‚   â”‚   â””â”€â”€ ğŸ“„ error.ts                     # é”™è¯¯ç±»å‹
â”‚   â”œâ”€â”€ ğŸ“ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ helpers.ts                   # é€šç”¨å¸®åŠ©å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ validation.ts                # æ•°æ®éªŒè¯
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ logger.ts                    # æ—¥å¿—å·¥å…·
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ constants.ts                 # å¸¸é‡å®šä¹‰
â”‚   â”‚   â””â”€â”€ ğŸ“„ env.ts                       # ç¯å¢ƒå˜é‡å¤„ç†
â”‚   â”œâ”€â”€ ğŸ“ config/                  # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ database.ts                  # æ•°æ®åº“é…ç½®(æœªæ¥)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ cors.ts                      # CORSé…ç½®
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ coze.ts                      # Coze APIé…ç½®
â”‚   â”‚   â””â”€â”€ ğŸ“„ server.ts                    # æœåŠ¡å™¨é…ç½®
â”‚   â”œâ”€â”€ ğŸ“ __tests__/               # æµ‹è¯•æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“ controllers/                 # æ§åˆ¶å™¨æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ ğŸ“ services/                    # æœåŠ¡æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ ğŸ“ utils/                       # å·¥å…·æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ setup.ts                     # æµ‹è¯•é…ç½®
â”‚   â”‚   â””â”€â”€ ğŸ“„ helpers.ts                   # æµ‹è¯•è¾…åŠ©
â”‚   â””â”€â”€ ğŸ“„ app.ts                   # åº”ç”¨ä¸»æ–‡ä»¶
â”œâ”€â”€ ğŸ“ dist/                        # ç¼–è¯‘è¾“å‡º(gitignore)
â”œâ”€â”€ ğŸ“ logs/                        # æ—¥å¿—æ–‡ä»¶(gitignore)
â”œâ”€â”€ ğŸ“„ package.json                 # é¡¹ç›®é…ç½®
â”œâ”€â”€ ğŸ“„ tsconfig.json                # TypeScripté…ç½®
â”œâ”€â”€ ğŸ“„ .eslintrc.json               # ESLinté…ç½®
â”œâ”€â”€ ğŸ“„ .prettierrc                  # Prettieré…ç½®
â”œâ”€â”€ ğŸ“„ .env.example                 # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ ğŸ“„ Dockerfile                   # Dockeré…ç½®
â”œâ”€â”€ ğŸ“„ .dockerignore                # Dockerå¿½ç•¥æ–‡ä»¶
â””â”€â”€ ğŸ“„ README.md                    # åç«¯è¯´æ˜æ–‡æ¡£
```

### åç«¯å‘½åè§„èŒƒ

#### æ–‡ä»¶å‘½åè§„èŒƒ
```typescript
// æ§åˆ¶å™¨æ–‡ä»¶ - camelCase + Controlleråç¼€
healthController.ts
recommendController.ts
ingredientController.ts

// æœåŠ¡æ–‡ä»¶ - camelCase + Serviceåç¼€
cozeService.ts
recommendService.ts
cacheService.ts

// ä¸­é—´ä»¶æ–‡ä»¶ - camelCase
cors.ts
errorHandler.ts
validation.ts

// ç±»å‹æ–‡ä»¶ - camelCase
index.ts
request.ts
response.ts

// å·¥å…·æ–‡ä»¶ - camelCase
helpers.ts
validation.ts
constants.ts
```

#### ä»£ç ç»“æ„è§„èŒƒ
```typescript
// æ§åˆ¶å™¨æ–‡ä»¶ç»“æ„ç¤ºä¾‹
import { Request, Response, NextFunction } from 'express';
import { z } from 'zod';
import { RecommendService } from '@/services/recommendService';
import { validateRequest } from '@/utils/validation';
import { ApiResponse } from '@/types/response';

// 1. è¯·æ±‚éªŒè¯Schema
const recommendRequestSchema = z.object({
  scene: z.enum(['party', 'date', 'alone', 'business', 'dining', 'night']),
  moods: z.array(z.string()).min(1).max(3),
  ingredients: z.object({
    spirits: z.array(z.string()),
    mixers: z.array(z.string()),
    tools: z.array(z.string()),
  }),
  // ... å…¶ä»–å­—æ®µ
});

// 2. æ§åˆ¶å™¨ç±»
export class RecommendController {
  private recommendService: RecommendService;

  constructor() {
    this.recommendService = new RecommendService();
  }

  // 3. è·¯ç”±å¤„ç†æ–¹æ³•
  getRecommendations = async (
    req: Request,
    res: Response<ApiResponse>,
    next: NextFunction
  ) => {
    try {
      // éªŒè¯è¯·æ±‚
      const validatedData = validateRequest(recommendRequestSchema, req.body);
      
      // è°ƒç”¨æœåŠ¡
      const recommendations = await this.recommendService.getRecommendations(validatedData);
      
      // è¿”å›å“åº”
      res.status(200).json({
        success: true,
        data: recommendations,
        message: 'Recommendations generated successfully',
        timestamp: new Date().toISOString(),
      });
    } catch (error) {
      next(error);
    }
  };

  // 4. å…¶ä»–æ–¹æ³•...
}

// 5. å¯¼å‡ºå®ä¾‹
export const recommendController = new RecommendController();
```

---

## ğŸ“š æ–‡æ¡£æ–‡ä»¶ç»“æ„

### æ–‡æ¡£ç›®å½•ç»„ç»‡
```
docs/
â”œâ”€â”€ ğŸ“ requirements/                # éœ€æ±‚æ–‡æ¡£
â”‚   â”œâ”€â”€ ğŸ“„ éœ€æ±‚æ–‡æ¡£.md              # ä¸»éœ€æ±‚æ–‡æ¡£
â”‚   â”œâ”€â”€ ğŸ“„ ç”¨æˆ·æ•…äº‹.md              # ç”¨æˆ·æ•…äº‹
â”‚   â””â”€â”€ ğŸ“„ éªŒæ”¶æ ‡å‡†.md              # éªŒæ”¶æ ‡å‡†
â”œâ”€â”€ ğŸ“ design/                      # è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ ğŸ“„ ç•Œé¢è®¾è®¡è§„èŒƒ.md          # UIè®¾è®¡è§„èŒƒ
â”‚   â”œâ”€â”€ ğŸ“„ äº¤äº’è®¾è®¡.md              # äº¤äº’è®¾è®¡
â”‚   â””â”€â”€ ğŸ“„ å“ç‰ŒæŒ‡å—.md              # å“ç‰ŒæŒ‡å—
â”œâ”€â”€ ğŸ“ technical/                   # æŠ€æœ¯æ–‡æ¡£
â”‚   â”œâ”€â”€ ğŸ“„ æŠ€æœ¯è§„æ ¼.md              # æŠ€æœ¯è§„æ ¼
â”‚   â”œâ”€â”€ ğŸ“„ æŠ€æœ¯æ ˆå®šå‹æ–‡æ¡£.md        # æŠ€æœ¯æ ˆ
â”‚   â”œâ”€â”€ ğŸ“„ é¡¹ç›®æ–‡ä»¶ç»“æ„è§„èŒƒ.md      # æ–‡ä»¶ç»“æ„
â”‚   â””â”€â”€ ğŸ“„ å®‰å…¨åˆè§„.md              # å®‰å…¨è§„èŒƒ
â”œâ”€â”€ ğŸ“ development/                 # å¼€å‘æ–‡æ¡£
â”‚   â”œâ”€â”€ ğŸ“„ å¼€å‘ç¯å¢ƒæ­å»ºæŒ‡å—.md      # ç¯å¢ƒæ­å»º
â”‚   â”œâ”€â”€ ğŸ“„ ç¼–ç è§„èŒƒ.md              # ç¼–ç è§„èŒƒ
â”‚   â”œâ”€â”€ ğŸ“„ æµ‹è¯•è§„æ ¼.md              # æµ‹è¯•è§„èŒƒ
â”‚   â””â”€â”€ ğŸ“„ ä»£ç å®¡æŸ¥æ¸…å•.md          # ä»£ç å®¡æŸ¥
â”œâ”€â”€ ğŸ“ deployment/                  # éƒ¨ç½²æ–‡æ¡£
â”‚   â”œâ”€â”€ ğŸ“„ éƒ¨ç½²æŒ‡å—.md              # éƒ¨ç½²æŒ‡å—
â”‚   â”œâ”€â”€ ğŸ“„ ç¯å¢ƒé…ç½®.md              # ç¯å¢ƒé…ç½®
â”‚   â””â”€â”€ ğŸ“„ è¿ç»´æ‰‹å†Œ.md              # è¿ç»´æ‰‹å†Œ
â”œâ”€â”€ ğŸ“ api/                         # APIæ–‡æ¡£
â”‚   â”œâ”€â”€ ğŸ“„ APIè§„æ ¼.md               # APIè§„æ ¼
â”‚   â”œâ”€â”€ ğŸ“„ æ¥å£æ–‡æ¡£.md              # æ¥å£æ–‡æ¡£
â”‚   â””â”€â”€ ğŸ“„ é”™è¯¯ç .md                # é”™è¯¯ç è¯´æ˜
â”œâ”€â”€ ğŸ“ user-guide/                  # ç”¨æˆ·æŒ‡å—
â”‚   â”œâ”€â”€ ğŸ“„ ç”¨æˆ·æ‰‹å†Œ.md              # ç”¨æˆ·æ‰‹å†Œ
â”‚   â”œâ”€â”€ ğŸ“„ å¸¸è§é—®é¢˜.md              # FAQ
â”‚   â””â”€â”€ ğŸ“„ æ•…éšœæ’é™¤.md              # æ•…éšœæ’é™¤
â””â”€â”€ ğŸ“ project-management/          # é¡¹ç›®ç®¡ç†
    â”œâ”€â”€ ğŸ“„ é¡¹ç›®è§„åˆ’.md              # é¡¹ç›®è§„åˆ’
    â”œâ”€â”€ ğŸ“„ é‡Œç¨‹ç¢‘.md                # é‡Œç¨‹ç¢‘
    â””â”€â”€ ğŸ“„ å˜æ›´è®°å½•.md              # å˜æ›´è®°å½•
```

---

## ğŸ› ï¸ è„šæœ¬å’Œå·¥å…·

### è„šæœ¬ç›®å½•ç»“æ„
```
scripts/
â”œâ”€â”€ ğŸ“ build/                       # æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ build-frontend.sh        # å‰ç«¯æ„å»º
â”‚   â”œâ”€â”€ ğŸ“„ build-backend.sh         # åç«¯æ„å»º
â”‚   â””â”€â”€ ğŸ“„ build-all.sh             # å…¨é‡æ„å»º
â”œâ”€â”€ ğŸ“ deploy/                      # éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ deploy-staging.sh        # æµ‹è¯•ç¯å¢ƒéƒ¨ç½²
â”‚   â”œâ”€â”€ ğŸ“„ deploy-production.sh     # ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
â”‚   â””â”€â”€ ğŸ“„ rollback.sh              # å›æ»šè„šæœ¬
â”œâ”€â”€ ğŸ“ test/                        # æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ run-tests.sh             # è¿è¡Œæµ‹è¯•
â”‚   â”œâ”€â”€ ğŸ“„ e2e-tests.sh             # ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â””â”€â”€ ğŸ“„ performance-tests.sh     # æ€§èƒ½æµ‹è¯•
â”œâ”€â”€ ğŸ“ database/                    # æ•°æ®åº“è„šæœ¬(æœªæ¥)
â”‚   â”œâ”€â”€ ğŸ“„ migrate.sh               # æ•°æ®è¿ç§»
â”‚   â”œâ”€â”€ ğŸ“„ seed.sh                  # æ•°æ®ç§å­
â”‚   â””â”€â”€ ğŸ“„ backup.sh                # æ•°æ®å¤‡ä»½
â””â”€â”€ ğŸ“ utils/                       # å·¥å…·è„šæœ¬
    â”œâ”€â”€ ğŸ“„ setup-dev.sh             # å¼€å‘ç¯å¢ƒè®¾ç½®
    â”œâ”€â”€ ğŸ“„ clean.sh                 # æ¸…ç†è„šæœ¬
    â””â”€â”€ ğŸ“„ health-check.sh          # å¥åº·æ£€æŸ¥
```

---

## âš™ï¸ é…ç½®æ–‡ä»¶è§„èŒƒ

### æ ¹ç›®å½•é…ç½®æ–‡ä»¶
```
shaker/
â”œâ”€â”€ ğŸ“„ .gitignore                   # Gitå¿½ç•¥è§„åˆ™
â”œâ”€â”€ ğŸ“„ .gitattributes               # Gitå±æ€§é…ç½®
â”œâ”€â”€ ğŸ“„ .nvmrc                       # Nodeç‰ˆæœ¬é”å®š
â”œâ”€â”€ ğŸ“„ .editorconfig                # ç¼–è¾‘å™¨é…ç½®
â”œâ”€â”€ ğŸ“„ .prettierrc                  # Prettieré…ç½®
â”œâ”€â”€ ğŸ“„ .prettierignore              # Prettierå¿½ç•¥
â”œâ”€â”€ ğŸ“„ LICENSE                      # å¼€æºåè®®
â”œâ”€â”€ ğŸ“„ README.md                    # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ ğŸ“„ CHANGELOG.md                 # å˜æ›´æ—¥å¿—
â”œâ”€â”€ ğŸ“„ CONTRIBUTING.md              # è´¡çŒ®æŒ‡å—
â””â”€â”€ ğŸ“„ package.json                 # æ ¹åŒ…é…ç½®
```

### GitHubé…ç½®
```
.github/
â”œâ”€â”€ ğŸ“ workflows/                   # GitHub Actions
â”‚   â”œâ”€â”€ ğŸ“„ ci.yml                   # æŒç»­é›†æˆ
â”‚   â”œâ”€â”€ ğŸ“„ cd.yml                   # æŒç»­éƒ¨ç½²
â”‚   â””â”€â”€ ğŸ“„ security.yml             # å®‰å…¨æ‰«æ
â”œâ”€â”€ ğŸ“ ISSUE_TEMPLATE/              # Issueæ¨¡æ¿
â”‚   â”œâ”€â”€ ğŸ“„ bug_report.md            # BugæŠ¥å‘Š
â”‚   â”œâ”€â”€ ğŸ“„ feature_request.md       # åŠŸèƒ½è¯·æ±‚
â”‚   â””â”€â”€ ğŸ“„ question.md              # é—®é¢˜å’¨è¯¢
â”œâ”€â”€ ğŸ“ PULL_REQUEST_TEMPLATE/       # PRæ¨¡æ¿
â”‚   â””â”€â”€ ğŸ“„ pull_request_template.md # PRæ¨¡æ¿
â”œâ”€â”€ ğŸ“„ CODEOWNERS                   # ä»£ç æ‰€æœ‰è€…
â””â”€â”€ ğŸ“„ dependabot.yml               # ä¾èµ–æ›´æ–°
```

---

## ğŸ“ å‘½åçº¦å®šæ€»ç»“

### æ–‡ä»¶å’Œç›®å½•å‘½å
```bash
# ç›®å½•å‘½å - kebab-case
user-guide/
project-management/
api-documentation/

# Reactç»„ä»¶æ–‡ä»¶ - PascalCase
Button.tsx
CocktailCard.tsx
IngredientSelector.tsx

# éç»„ä»¶TypeScriptæ–‡ä»¶ - camelCase
helpers.ts
validation.ts
constants.ts

# æ ·å¼æ–‡ä»¶ - kebab-case
globals.css
components.css
reset.css

# é…ç½®æ–‡ä»¶ - kebab-case æˆ–å›ºå®šåç§°
vite.config.ts
tailwind.config.js
.eslintrc.json
```

### ä»£ç å‘½å
```typescript
// å˜é‡å’Œå‡½æ•° - camelCase
const userName = 'John';
const getUserRecommendations = () => {};

// å¸¸é‡ - SCREAMING_SNAKE_CASE
const API_BASE_URL = 'https://api.example.com';
const MAX_RETRY_ATTEMPTS = 3;

// ç±»å‹å’Œæ¥å£ - PascalCase
interface UserPreferences {}
type ApiResponse<T> = {};

// æšä¸¾ - PascalCase
enum StatusCode {
  Success = 200,
  NotFound = 404,
  ServerError = 500,
}

// ç»„ä»¶ - PascalCase
const Button: React.FC = () => {};
const CocktailCard: React.FC = () => {};
```

---

## ğŸ” ä»£ç ç»„ç»‡æœ€ä½³å®è·µ

### å¯¼å…¥é¡ºåºè§„èŒƒ
```typescript
// 1. Reactç›¸å…³å¯¼å…¥
import React, { useState, useEffect } from 'react';
import { NextPage } from 'next';

// 2. ç¬¬ä¸‰æ–¹åº“å¯¼å…¥
import axios from 'axios';
import { z } from 'zod';
import clsx from 'clsx';

// 3. é¡¹ç›®å†…éƒ¨å¯¼å…¥ - ç»å¯¹è·¯å¾„
import { Button } from '@/components/ui/Button';
import { useAppStore } from '@/stores/useAppStore';
import { ApiResponse } from '@/types/api';

// 4. ç›¸å¯¹è·¯å¾„å¯¼å…¥
import './Component.css';
import { helperFunction } from '../utils/helpers';
```

### æ–‡ä»¶å¤§å°å»ºè®®
```typescript
// æ–‡ä»¶å¤§å°å»ºè®®
{
  "ç»„ä»¶æ–‡ä»¶": "< 300è¡Œ",
  "Hookæ–‡ä»¶": "< 150è¡Œ", 
  "å·¥å…·æ–‡ä»¶": "< 200è¡Œ",
  "ç±»å‹æ–‡ä»¶": "< 100è¡Œ",
  "æœåŠ¡æ–‡ä»¶": "< 400è¡Œ",
  "æ§åˆ¶å™¨æ–‡ä»¶": "< 200è¡Œ"
}

// è¶…è¿‡å»ºè®®å¤§å°æ—¶åº”è€ƒè™‘æ‹†åˆ†
```

### æ³¨é‡Šè§„èŒƒ
```typescript
/**
 * è·å–é¸¡å°¾é…’æ¨è
 * @param userInput ç”¨æˆ·è¾“å…¥çš„åå¥½ä¿¡æ¯
 * @returns Promise<CocktailRecommendation[]> æ¨èç»“æœåˆ—è¡¨
 * @throws {ValidationError} å½“ç”¨æˆ·è¾“å…¥ä¸ç¬¦åˆè¦æ±‚æ—¶
 * @example
 * ```typescript
 * const recommendations = await getRecommendations({
 *   scene: 'party',
 *   moods: ['happy', 'excited'],
 *   ingredients: { spirits: ['vodka'], mixers: ['lime'] }
 * });
 * ```
 */
export async function getRecommendations(
  userInput: UserInput
): Promise<CocktailRecommendation[]> {
  // å®ç°é€»è¾‘...
}
```

---

## âœ… é¡¹ç›®ç»“æ„æ£€æŸ¥æ¸…å•

### åˆ›å»ºæ–°æ–‡ä»¶æ—¶æ£€æŸ¥
- [ ] æ–‡ä»¶æ”¾åœ¨æ­£ç¡®çš„ç›®å½•ä¸­
- [ ] æ–‡ä»¶å‘½åç¬¦åˆè§„èŒƒ
- [ ] å¯¼å…¥è¯­å¥æŒ‰è§„èŒƒæ’åº
- [ ] å¯¼å‡ºè¯­å¥æ¸…æ™°æ˜ç¡®
- [ ] å¿…è¦çš„ç±»å‹æ³¨è§£
- [ ] é€‚å½“çš„æ³¨é‡Šè¯´æ˜

### é‡æ„æ—¶æ£€æŸ¥
- [ ] æ–‡ä»¶å¤§å°åˆç†
- [ ] èŒè´£å•ä¸€æ¸…æ™°
- [ ] ä¾èµ–å…³ç³»åˆç†
- [ ] å¯æµ‹è¯•æ€§è‰¯å¥½
- [ ] æ–‡æ¡£æ›´æ–°åŒæ­¥

### é¡¹ç›®æ•´ä½“æ£€æŸ¥
- [ ] ç›®å½•ç»“æ„æ¸…æ™°
- [ ] å‘½åä¸€è‡´æ€§
- [ ] ä¾èµ–å…³ç³»æ¸…æ™°
- [ ] æ„å»ºé…ç½®æ­£ç¡®
- [ ] æ–‡æ¡£å®Œæ•´æ€§

---

*æ–‡æ¡£ç‰ˆæœ¬ï¼šv1.0*  
*æœ€åæ›´æ–°ï¼š2024-08-28*  
*ç»“æ„è§„èŒƒæŒç»­ä¼˜åŒ–ä¸­*
