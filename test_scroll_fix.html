<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ»šåŠ¨ä¿®å¤æµ‹è¯• - Shaker</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #f8f5f0, #e8f5e8);
        }
        
        .test-section {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            border-bottom: 2px solid #ddd;
        }
        
        .test-content {
            text-align: center;
            padding: 2rem;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .btn {
            background: #228b22;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            margin: 0.5rem;
        }
        
        .btn:hover {
            background: #1a6b1a;
        }
        
        /* æ¨¡æ‹Ÿæ¨èåŒºåŸŸæ ·å¼ */
        .mock-recommendation-section {
            min-height: 80vh;
            padding: 2rem;
            background: linear-gradient(135deg, #f0f8f0, #e0f0e0);
        }
        
        .mock-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            max-width: 1200px;
            margin: 2rem auto;
        }
        
        .mock-card {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            min-height: 300px;
        }
        
        @media (max-width: 1024px) {
            .mock-grid {
                grid-template-columns: 1fr;
                max-width: 500px;
            }
        }
    </style>
</head>
<body>
    <div class="test-section" style="background: #ffebee;">
        <div class="test-content">
            <h1>ğŸ§ª æ»šåŠ¨ä¿®å¤æµ‹è¯•</h1>
            <p>è¿™æ˜¯ç¬¬ä¸€ä¸ªåŒºåŸŸï¼Œæ¨¡æ‹ŸShakeråˆ†æé˜¶æ®µ</p>
            <button class="btn" onclick="testScroll()">æµ‹è¯•æ»šåŠ¨åˆ°æ¨èåŒºåŸŸ</button>
        </div>
    </div>
    
    <div class="test-section" style="background: #e8f5e9;">
        <div class="test-content">
            <h2>ğŸŒ¿ ä¸­é—´è¿‡æ¸¡åŒºåŸŸ</h2>
            <p>è¿™æ˜¯ä¸­é—´åŒºåŸŸï¼Œå¢åŠ é¡µé¢é«˜åº¦</p>
        </div>
    </div>
    
    <div id="mockRecommendationArea" class="mock-recommendation-section">
        <div style="text-align: center; margin-bottom: 2rem;">
            <h2>ğŸ¸ ä¸ºä½ æ¨èçš„é¸¡å°¾é…’</h2>
            <p>è¿™æ˜¯æ¨¡æ‹Ÿçš„æ¨èåŒºåŸŸï¼Œæµ‹è¯•æ»šåŠ¨æ•ˆæœ</p>
        </div>
        
        <div class="mock-grid">
            <div class="mock-card">
                <h3>ğŸ¸ è«å‰æ‰˜</h3>
                <p>æ¸…æ–°è–„è·ä¸æœ—å§†é…’çš„å®Œç¾ç»“åˆ</p>
                <div style="margin-top: 1rem; padding: 1rem; background: #f5f5f5; border-radius: 8px;">
                    <p><strong>ä¸»è¦ææ–™ï¼š</strong></p>
                    <p>ç™½æœ—å§†é…’ 60ml</p>
                    <p>è–„è·å¶ 6-8ç‰‡</p>
                    <p>é’æŸ æ± 30ml</p>
                </div>
            </div>
            
            <div class="mock-card">
                <h3>ğŸ¹ é‡‘æ±¤åŠ›</h3>
                <p>ç»å…¸è‹±å¼é¸¡å°¾é…’ï¼Œç®€å•è€Œä¼˜é›…</p>
                <div style="margin-top: 1rem; padding: 1rem; background: #f5f5f5; border-radius: 8px;">
                    <p><strong>ä¸»è¦ææ–™ï¼š</strong></p>
                    <p>é‡‘é…’ 45ml</p>
                    <p>æ±¤åŠ›æ°´ 150ml</p>
                    <p>æŸ æª¬ç‰‡ 1ç‰‡</p>
                </div>
            </div>
            
            <div class="mock-card">
                <h3>ğŸ“ è‰è“ä¼ç‰¹åŠ æ°”æ³¡é¥®</h3>
                <p>ç”œç¾è‰è“ä¸æ°”æ³¡çš„æ¸…çˆ½ç»„åˆ</p>
                <div style="margin-top: 1rem; padding: 1rem; background: #f5f5f5; border-radius: 8px;">
                    <p><strong>ä¸»è¦ææ–™ï¼š</strong></p>
                    <p>ä¼ç‰¹åŠ  40ml</p>
                    <p>è‰è“ 3-4é¢—</p>
                    <p>è‹æ‰“æ°´ 100ml</p>
                </div>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 2rem;">
            <button class="btn" onclick="testScrollToTop()">è¿”å›é¡¶éƒ¨</button>
            <button class="btn" onclick="testCenterScroll()">å±…ä¸­æ»šåŠ¨æµ‹è¯•</button>
        </div>
    </div>
    
    <div class="test-section" style="background: #fff3e0;">
        <div class="test-content">
            <h2>ğŸ“Š æµ‹è¯•ç»“æœåŒºåŸŸ</h2>
            <p>è¿™æ˜¯åº•éƒ¨åŒºåŸŸï¼Œç”¨äºæµ‹è¯•æ»šåŠ¨è¾¹ç•Œ</p>
            <div id="scrollInfo" style="margin-top: 1rem; padding: 1rem; background: #f5f5f5; border-radius: 8px;">
                <p>æ»šåŠ¨ä¿¡æ¯å°†åœ¨è¿™é‡Œæ˜¾ç¤º</p>
            </div>
        </div>
    </div>

    <script>
        // å¤åˆ¶ä¼˜åŒ–åçš„æ»šåŠ¨å‡½æ•°
        function scrollToRecommendationArea() {
            const makingSection = document.getElementById('mockRecommendationArea');
            if (!makingSection) {
                console.warn('âš ï¸ æ¨èåŒºåŸŸå…ƒç´ ä¸å­˜åœ¨');
                return;
            }

            // ä½¿ç”¨ requestAnimationFrame ç¡®ä¿DOMå®Œå…¨æ¸²æŸ“
            requestAnimationFrame(() => {
                requestAnimationFrame(() => {
                    const sectionRect = makingSection.getBoundingClientRect();
                    const viewportHeight = window.innerHeight;
                    const sectionHeight = sectionRect.height;
                    
                    const scrollInfo = {
                        sectionTop: sectionRect.top,
                        sectionHeight: sectionHeight,
                        viewportHeight: viewportHeight,
                        currentScrollY: window.scrollY
                    };
                    
                    console.log('ğŸ“Š æ»šåŠ¨è°ƒè¯•ä¿¡æ¯:', scrollInfo);
                    updateScrollInfo(scrollInfo);
                    
                    // è®¡ç®—æœ€ä½³æ»šåŠ¨ä½ç½®
                    const sectionTop = makingSection.offsetTop;
                    
                    // å¦‚æœæ¨èåŒºåŸŸå†…å®¹é«˜åº¦è¶…è¿‡è§†å£çš„80%ï¼Œä½¿ç”¨é¡¶éƒ¨å¯¹é½å¹¶ç•™å‡ºåˆç†è¾¹è·
                    if (sectionHeight > viewportHeight * 0.8) {
                        const scrollTarget = sectionTop - Math.min(100, viewportHeight * 0.1); // 10%è§†å£é«˜åº¦æˆ–100pxçš„é¡¶éƒ¨è¾¹è·
                        console.log('ğŸ“ å¤§å†…å®¹æ»šåŠ¨ - ç›®æ ‡ä½ç½®:', scrollTarget);
                        
                        window.scrollTo({
                            top: Math.max(0, scrollTarget), // ç¡®ä¿ä¸ä¼šæ»šåŠ¨åˆ°è´Ÿå€¼
                            behavior: 'smooth'
                        });
                    } else {
                        // å†…å®¹é€‚ä¸­æ—¶ï¼Œè®©æ¨èåŒºåŸŸåœ¨è§†å£ä¸­å±…ä¸­æ˜¾ç¤º
                        const centerOffset = (viewportHeight - sectionHeight) / 2;
                        const scrollTarget = sectionTop - centerOffset;
                        console.log('ğŸ“ å±…ä¸­æ»šåŠ¨ - ç›®æ ‡ä½ç½®:', scrollTarget);
                        
                        window.scrollTo({
                            top: Math.max(0, scrollTarget),
                            behavior: 'smooth'
                        });
                    }
                });
            });
        }
        
        function testScroll() {
            console.log('ğŸ§ª å¼€å§‹æ»šåŠ¨æµ‹è¯•');
            scrollToRecommendationArea();
        }
        
        function testScrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        function testCenterScroll() {
            const makingSection = document.getElementById('mockRecommendationArea');
            makingSection.scrollIntoView({
                behavior: 'smooth',
                block: 'center'
            });
        }
        
        function updateScrollInfo(info) {
            const infoElement = document.getElementById('scrollInfo');
            infoElement.innerHTML = `
                <h4>ğŸ“Š æ»šåŠ¨ä¿¡æ¯</h4>
                <p><strong>åŒºåŸŸé¡¶éƒ¨ä½ç½®ï¼š</strong> ${info.sectionTop}px</p>
                <p><strong>åŒºåŸŸé«˜åº¦ï¼š</strong> ${info.sectionHeight}px</p>
                <p><strong>è§†å£é«˜åº¦ï¼š</strong> ${info.viewportHeight}px</p>
                <p><strong>å½“å‰æ»šåŠ¨ä½ç½®ï¼š</strong> ${info.currentScrollY}px</p>
                <p><strong>é«˜åº¦æ¯”ä¾‹ï¼š</strong> ${(info.sectionHeight / info.viewportHeight * 100).toFixed(1)}%</p>
            `;
        }
        
        // ç›‘å¬æ»šåŠ¨äº‹ä»¶
        window.addEventListener('scroll', () => {
            const scrollY = window.scrollY;
            const viewportHeight = window.innerHeight;
            const documentHeight = document.documentElement.scrollHeight;
            
            console.log(`ğŸ“ æ»šåŠ¨ä½ç½®: ${scrollY}px / ${documentHeight}px`);
        });
    </script>
</body>
</html>
